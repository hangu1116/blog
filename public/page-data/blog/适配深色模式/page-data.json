{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/适配深色模式/","result":{"data":{"site":{"siteMetadata":{"title":"cyj's blog"}},"markdownRemark":{"id":"3f532dd5-86e8-5c2c-9e26-8ad45d063904","excerpt":"dark mode 原则 设计细节 dark 模式开关 元素特性 层级感 易用性和对比度 UI 应用 系统颜色 Theme colors 主色 Primary color、辅色 Secondary color 强调色 Accent color 基准色 The dark theme baseline palette…","html":"<div class=\"toc\">\n<ul>\n<li><a href=\"#dark-mode-%E5%8E%9F%E5%88%99\">dark mode 原则</a></li>\n<li>\n<p><a href=\"#%E8%AE%BE%E8%AE%A1%E7%BB%86%E8%8A%82\">设计细节</a></p>\n<ul>\n<li><a href=\"#dark-%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%85%B3\">dark 模式开关</a></li>\n<li>\n<p><a href=\"#%E5%85%83%E7%B4%A0%E7%89%B9%E6%80%A7\">元素特性</a></p>\n<ul>\n<li><a href=\"#%E5%B1%82%E7%BA%A7%E6%84%9F\">层级感</a></li>\n<li><a href=\"#%E6%98%93%E7%94%A8%E6%80%A7%E5%92%8C%E5%AF%B9%E6%AF%94%E5%BA%A6\">易用性和对比度</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#ui-%E5%BA%94%E7%94%A8\">UI 应用</a></p>\n<ul>\n<li><a href=\"#%E7%B3%BB%E7%BB%9F%E9%A2%9C%E8%89%B2-theme-colors\">系统颜色 Theme colors</a></li>\n<li><a href=\"#%E4%B8%BB%E8%89%B2-primary-color%E3%80%81%E8%BE%85%E8%89%B2-secondary-color\">主色 Primary color、辅色 Secondary color</a></li>\n<li><a href=\"#%E5%BC%BA%E8%B0%83%E8%89%B2-accent-color\">强调色 Accent color</a></li>\n<li><a href=\"#%E5%9F%BA%E5%87%86%E8%89%B2-the-dark-theme-baseline-palette\">基准色 The dark theme baseline palette</a></li>\n<li><a href=\"#error-colors\">Error colors</a></li>\n<li><a href=\"#%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E6%A0%87-typography-and-iconography-colors\">字体和图标 Typography and iconography colors</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E7%8A%B6%E6%80%81\">状态</a></p>\n<ul>\n<li><a href=\"#%E8%83%8C%E6%99%AF%E8%89%B2%E5%AE%B9%E5%99%A8\">背景色容器</a></li>\n<li><a href=\"#%E4%B8%BB%E8%89%B2%E5%AE%B9%E5%99%A8\">主色容器</a></li>\n<li><a href=\"#%E7%A6%81%E7%94%A8%E7%8A%B6%E6%80%81\">禁用状态</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0\">技术实现</a></p>\n<ul>\n<li><a href=\"#%E5%85%A8%E5%B1%80-css\">全局 css</a></li>\n<li><a href=\"#%E4%BB%A3%E7%A0%81%E5%9D%97%E6%B7%B1%E8%89%B2%E6%A8%A1%E5%BC%8F\">代码块深色模式</a></li>\n</ul>\n</li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>\n</div>\n<h2 id=\"dark-mode-原则\" style=\"position:relative;\"><a href=\"#dark-mode-%E5%8E%9F%E5%88%99\" aria-label=\"dark mode 原则 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dark mode 原则</h2>\n<blockquote>\n<p>Darken with grey; Color with accents; Conserve energy; Enhance accessibility<br>\n---- google</p>\n</blockquote>\n<p>google 在 material 的 dark theme 教程里写了四条设计原则，提出了需要遵守的规范，分别是：</p>\n<ul>\n<li>对比度：背景和文字对比度至少达到 15.8:1</li>\n<li>景深：用光亮来表示高度，层级高的原素要用更亮的颜色来表达</li>\n<li>减小饱和度：对于主色调需要去饱和度，以保证符合 WCAG 的 4.5:1 要求（<a href=\"https://www.w3.org/WAI/GL/WCAG20/\">WCAG2.0</a> 中 1.4.3 关于对比度的要求(AA 级)：普通文本和图形文本的对比度至少到达 4.5:1）</li>\n<li>限制色彩使用</li>\n</ul>\n<div align=\"center\">\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4sfru2n0j30tk0tk75t.jpg\" width=\"49%\" style=\"margin-right: 2%\" alt=\"Darken with grey\" ><img src=\"htt\nps://tva1.sinaimg.cn/large/007S8ZIlly1ge4s9c9zhzj30tk0tk3z0.jpg\" width=\"49%\" alt=\"Color with accents\" >    \n</div>\n<p>apple 的 Human Interface Guidelines 对 dark mode 也有一些设计规范：</p>\n<ul>\n<li>聚焦内容</li>\n<li>要求同时关注深浅两种模式的效果</li>\n<li>通过调整对比度和饱和度，保证界面鲜艳、内容清晰：饱和度最好达到 7:1，最低 4.5:1。</li>\n</ul>\n<p>综合 google 和 apple 的观点，两者都注重深色模式下的对比度是否达标，也都推荐用光影来聚焦内容。不过 google 推荐颜色去饱和度设计，以适应深灰色的背景；apple 则是轻微的变亮变灰，基本与 light 模式下保持一致。这些细节上的不同是接下来文章的重点，这次 blog 的深色模式也是两家设计规范求同存异的结果。</p>\n<h2 id=\"设计细节\" style=\"position:relative;\"><a href=\"#%E8%AE%BE%E8%AE%A1%E7%BB%86%E8%8A%82\" aria-label=\"设计细节 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>设计细节</h2>\n<h3 id=\"dark-模式开关\" style=\"position:relative;\"><a href=\"#dark-%E6%A8%A1%E5%BC%8F%E5%BC%80%E5%85%B3\" aria-label=\"dark 模式开关 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dark 模式开关</h3>\n<p>google 认为，深色模式应该有开关可以控制，可以外露在界面上、放在二级菜单或 app 的设置列表中。\napple 对于 IOS 则要求不设置开关，以免用户觉得困惑和复杂 😂，对于 macOS 允许用户自定义切换。\n考虑到 blog 的简洁和不同平台的特性，pc 上开关放在右上角。h5 上因为界面较小，直接隐藏掉，随系统设置一致。</p>\n<h3 id=\"元素特性\" style=\"position:relative;\"><a href=\"#%E5%85%83%E7%B4%A0%E7%89%B9%E6%80%A7\" aria-label=\"元素特性 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>元素特性</h3>\n<p>关于前景色的选择，google 推荐深灰色 <code class=\"language-text\">#121212</code>，原因是深灰相比于黑色更能清楚展示阴影，因此能表达更多色彩、体现层级感和景深。\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4tofzxapj30tk0e00t5.jpg\">\napple 提供了 Base <code class=\"language-text\">#000000</code>和 Elevated<code class=\"language-text\">#1b1b1e</code>(偏蓝)两种颜色，对于动态的应用，当界面位于前景（popover、modal）时，背景色从 Base 变为 Elevated。\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4zxesyl3j31hc0u07wh.jpg\">\n考虑到 blog 有大量文字需要阅读和很少的交互层级，最后选择用更靠近 google 的深灰色<code class=\"language-text\">#050505</code></p>\n<h4 id=\"层级感\" style=\"position:relative;\"><a href=\"#%E5%B1%82%E7%BA%A7%E6%84%9F\" aria-label=\"层级感 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>层级感</h4>\n<p>深色模式下，组件原素需要保留浅色模式下的层级和阴影。层级通过覆盖一层半透明的<strong>白色（不要使用系统色</strong>）实现，从 1dp 到 24dp 对应 5%到 16%透明度的白色。\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4ull1lmqj30tk0e00t5.jpg\">\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4ufodx8ng31hc0q01kz.gif\"></p>\n<h4 id=\"易用性和对比度\" style=\"position:relative;\"><a href=\"#%E6%98%93%E7%94%A8%E6%80%A7%E5%92%8C%E5%AF%B9%E6%AF%94%E5%BA%A6\" aria-label=\"易用性和对比度 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>易用性和对比度</h4>\n<p>dark mode 下，品牌色的选择。google 建议是 8%的主色叠加背景色(<code class=\"language-text\">#121212</code>)。如果背景色不够黑的话，这样做会导致不符合 WCAG 的对比度要求。\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4v1gs6d4j30tk0e0mxg.jpg\"></p>\n<h3 id=\"ui-应用\" style=\"position:relative;\"><a href=\"#ui-%E5%BA%94%E7%94%A8\" aria-label=\"ui 应用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UI 应用</h3>\n<h4 id=\"系统颜色-theme-colors\" style=\"position:relative;\"><a href=\"#%E7%B3%BB%E7%BB%9F%E9%A2%9C%E8%89%B2-theme-colors\" aria-label=\"系统颜色 theme colors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>系统颜色 Theme colors</h4>\n<blockquote>\n<p>Less saturated colors from your color palette improve legibility and reduce visual vibration.</p>\n</blockquote>\n<p><img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4vdkx5wpj30tk0e0jrw.jpg\"></p>\n<h4 id=\"主色-primary-color、辅色-secondary-color\" style=\"position:relative;\"><a href=\"#%E4%B8%BB%E8%89%B2-primary-color%E3%80%81%E8%BE%85%E8%89%B2-secondary-color\" aria-label=\"主色 primary color、辅色 secondary color permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>主色 Primary color、辅色 Secondary color</h4>\n<blockquote>\n<p>This dark theme UI uses a primary color (Purple 200) and a primary variant (Purple 700).</p>\n</blockquote>\n<p><img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4vkk8ae9j30tk0tkwhr.jpg\">\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge53dxy9umj31hc0u0hc4.jpg\"></p>\n<h4 id=\"强调色-accent-color\" style=\"position:relative;\"><a href=\"#%E5%BC%BA%E8%B0%83%E8%89%B2-accent-color\" aria-label=\"强调色 accent color permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>强调色 Accent color</h4>\n<blockquote>\n<p>To provide more flexibility and usability in a dark theme, it’s recommended to use lighter tones (200-50)\nin dark theme, rather than your default color theme (saturated tones ranging from 900-500).</p>\n</blockquote>\n<h4 id=\"基准色-the-dark-theme-baseline-palette\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E5%87%86%E8%89%B2-the-dark-theme-baseline-palette\" aria-label=\"基准色 the dark theme baseline palette permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基准色 The dark theme baseline palette</h4>\n<p><img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge4w5ksfxoj30tk0qq408.jpg\"></p>\n<h4 id=\"error-colors\" style=\"position:relative;\"><a href=\"#error-colors\" aria-label=\"error colors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Error colors</h4>\n<blockquote>\n<p>This dark theme color#CF6679 was created by taking the light theme error color (#B00020) and lightening it with a 40% white overlay, to pass AA-Level contrast standards.</p>\n</blockquote>\n<p><img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4wyq4mkpj30tk0e03yu.jpg\"></p>\n<h4 id=\"字体和图标-typography-and-iconography-colors\" style=\"position:relative;\"><a href=\"#%E5%AD%97%E4%BD%93%E5%92%8C%E5%9B%BE%E6%A0%87-typography-and-iconography-colors\" aria-label=\"字体和图标 typography and iconography colors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>字体和图标 Typography and iconography colors</h4>\n<p>google 将在界面和色块层级之上的文本和图标称为”on”，“on”推荐使用黑白色。<br>\n当浅色文本出现在深色背景上的时候（这里是白色文本置于黑色背景之上），它应该遵循下面的不透明度设置规则:</p>\n<ul>\n<li>最重要的内容，白色文本不透明度设置为 <code class=\"language-text\">87%</code></li>\n<li>中等重要的内容，白色文本的不透明度为 <code class=\"language-text\">60%</code></li>\n<li>被禁用的文本内容，白色文本的不透明度为 <code class=\"language-text\">38%</code></li>\n</ul>\n<p>apple 推荐在深色模式下使用实心图标。图像资源可以做成两套。而且如果仔细观察一下 apple 的深色网站就会发现，苹果对字重也有调节，在浅色模式下<code class=\"language-text\">500</code>的字体，在深色模式下会变为<code class=\"language-text\">400</code>，以减少视觉误差。<br>\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlgy1ge5047wasij31hc0u0e81.jpg\">\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4o3yga6qj31hc0u0npd.jpg\"></p>\n<h3 id=\"状态\" style=\"position:relative;\"><a href=\"#%E7%8A%B6%E6%80%81\" aria-label=\"状态 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>状态</h3>\n<p>状态的表达，在深浅两种模式下可以使用相同的遮罩样式处理。</p>\n<h4 id=\"背景色容器\" style=\"position:relative;\"><a href=\"#%E8%83%8C%E6%99%AF%E8%89%B2%E5%AE%B9%E5%99%A8\" aria-label=\"背景色容器 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>背景色容器</h4>\n<p>遮罩的颜色和文字或 icon 的颜色保持一致</p>\n<div align=\"center\">\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge52x229f1j30k00v40vk.jpg\" width=\"49%\" style=\"margin-right: 2%\" alt=\"Darken with grey\"><img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge52x8dvrjj30k00v4acx.jpg\" width=\"49%\" alt=\"Color with accents\">    \n</div>\n<h4 id=\"主色容器\" style=\"position:relative;\"><a href=\"#%E4%B8%BB%E8%89%B2%E5%AE%B9%E5%99%A8\" aria-label=\"主色容器 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>主色容器</h4>\n<p>遮罩的颜色为白色</p>\n<h4 id=\"禁用状态\" style=\"position:relative;\"><a href=\"#%E7%A6%81%E7%94%A8%E7%8A%B6%E6%80%81\" aria-label=\"禁用状态 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>禁用状态</h4>\n<p>禁用态的组件，12%white 的边框和填充，icons 或文字用 38%的白色\n<img src=\"https://tva1.sinaimg.cn/large/007S8ZIlly1ge4ydj3novj30tk0crq3b.jpg\"></p>\n<h2 id=\"技术实现\" style=\"position:relative;\"><a href=\"#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0\" aria-label=\"技术实现 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>技术实现</h2>\n<h3 id=\"全局-css\" style=\"position:relative;\"><a href=\"#%E5%85%A8%E5%B1%80-css\" aria-label=\"全局 css permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>全局 css</h3>\n<h3 id=\"代码块深色模式\" style=\"position:relative;\"><a href=\"#%E4%BB%A3%E7%A0%81%E5%9D%97%E6%B7%B1%E8%89%B2%E6%A8%A1%E5%BC%8F\" aria-label=\"代码块深色模式 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>代码块深色模式</h3>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ol>\n<li><a href=\"https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/dark-mode/\">apple/iOS/dark-mode</a></li>\n<li><a href=\"https://material.io/design/color/dark-theme.html\">Material Design 夜间模式设计指南</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/pq2lBgoMKMm8A0ygUfOivg\">关掉灯光，演出开始 -> 夜间模式来了</a></li>\n<li><a href=\"https://spectrum.chat/gatsby-js/general/prismjs-syntax-highlighting-with-mode-light-vs-dark-toggle~0ee962a1-501c-4879-960a-242f85387d1c\">代码块深色模式</a></li>\n<li><a href=\"https://contrast-ratio.com/\">对比度自测工具 🔧</a></li>\n</ol>","frontmatter":{"title":"blog适配dark mode/theme","tags":null,"date":"2020-04-22 20:43","description":null,"type":null}}},"pageContext":{"slug":"/blog/适配深色模式/","previous":{"fields":{"slug":"/绕小区一周/"},"frontmatter":{"title":"窗外","tags":["摄影"],"type":null}},"next":null}}}